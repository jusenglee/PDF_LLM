# PDF 처리 및 요약 시스템

이 프로젝트는 PDF 문서를 처리하고 계층적으로 요약하는 파이프라인을 구현합니다.

## 주요 기능

- PDF 텍스트 추출 및 전처리
- 적응형 텍스트 청킹 알고리즘
- 계층적 요약 시스템
- 임베딩 기반 핵심 문장 추출 (SBERT 활용)
- 병렬 처리 최적화

## Option A: 임베딩 기반 추출형 사전 필터링 + 추상적 요약

원문 전체를 LLM에 입력하는 대신, SBERT(MiniLM)로 문장을 임베딩하여 핵심 문장만 추출한 후 요약하는 방식을 구현했습니다.

### 주요 개선 사항

- **MAX_INPUT_TOKENS 제한 해결**: LLM이 처리해야 하는 토큰 수를 대폭 감소시켜 토큰 제한 문제 해결
- **토큰 사용량 약 10배 감소**: 의미적으로 유사한 문장만 선별하여 중복 정보 제거
- **요약 품질 향상**: 핵심 정보에 집중하여 더 정확한 요약 생성
- **스코어 기반 필터링**: 높은 유사도 점수의 문장만 선택적으로 활용
- **문서 흐름 보존**: 원본 문서의 흐름을 유지하기 위해 추출된 문장들을 원래 순서대로 정렬

### 작동 방식

1. 문서를 문장 단위로 분할
2. 각 문장을 SBERT로 임베딩 벡터로 변환
3. 쿼리("이 문서의 핵심 내용과 중요 정보를 요약")와 각 문장 간의 유사도 계산
4. 유사도 점수가 높은 상위 문장들만 선택
5. 선택된 문장들을 원래 순서대로 재정렬
6. 필터링된 텍스트를 LLM에 전달하여 최종 추상적 요약 생성

## 설치 방법

```bash
pip install -r requirements.txt
```

## 사용 방법

```bash
python pdf_summarizer.py
```

기본적으로 example3.pdf 파일을 처리합니다. 다른 PDF 파일을 처리하려면 코드를 수정하세요.
